# Contributing to Coding Guidelines

コーディングガイドラインへの貢献をご検討いただき、ありがとうございます！

このドキュメントでは、ガイドラインの改善や新規ルールの追加方法について説明します。

## 🎯 貢献の種類

以下のような貢献を歓迎します：

- **新しいルールの追加**: 新たなベストプラクティスや規約の提案
- **既存ルールの改善**: より明確な説明や例の追加
- **誤字脱字の修正**: タイポや文法の修正
- **コード例の改善**: より実践的な例の追加
- **自動化の提案**: ESLint/Prettier設定の追加や改善

## 📝 貢献の流れ

### 1. Issue を作成（推奨）

大きな変更を加える前に、まず Issue を作成して提案内容を共有してください。

- **タイトル**: 簡潔に何を提案するか記載
- **本文**: 背景、提案内容、期待される効果を説明

例:
```
タイトル: [提案] React Hooks のルールを追加

本文:
## 背景
現在、Hooks に関するルールがないため、チーム内で使い方が統一されていません。

## 提案内容
`docs/rules/react-hooks.md` を追加し、以下を定義します：
- useEffect の依存配列のルール
- カスタムフックの命名規則
- ...

## 期待される効果
- Hooks の誤用によるバグを防止
- コードレビュー時の判断基準が明確になる
```

### 2. ブランチを作成

main ブランチから作業用ブランチを作成します。

```bash
git checkout main
git pull origin main
git checkout -b feature/add-react-hooks-rule
```

ブランチ名の推奨フォーマット：

- `feature/` - 新機能追加（新規ルール等）
- `fix/` - 誤字脱字や軽微な修正
- `docs/` - ドキュメント構成の変更

### 3. ドキュメントを編集

#### 新規ルールを追加する場合

以下のテンプレートに従ってください：

```markdown
# ルール名

## 結論

何をすべきか、端的に記載します。箇条書きでポイントを列挙すると読みやすくなります。

## 理由

なぜこのルールが必要か、背景や問題点を説明します。

### サブセクション1

理由を複数の観点から説明する場合、サブセクションに分けます。

## 例

良い例と悪い例を具体的に示します。

### ✅ Good

\`\`\`typescript
// 推奨される書き方
const example = () => { /* ... */ };
\`\`\`

### ❌ Bad

\`\`\`typescript
// 避けるべき書き方
var example = function() { /* ... */ };
\`\`\`

## 例外

ルールが適用されない特殊なケースを記載します。

## 自動化

ESLint、Prettier、Git hooks などで、どのようにルールを強制できるかを説明します。

\`\`\`json
{
  "rules": {
    "example-rule": "error"
  }
}
\`\`\`

## 参考資料

関連する公式ドキュメントや記事へのリンク。
```

#### docs/.vitepress/config.ts にページを追加

新規ファイルを作成した場合は、`docs/.vitepress/config.ts` の `sidebar` セクションに追加してください。

```typescript
sidebar: {
  '/rules/': [
    {
      text: 'Rules',
      items: [
        { text: '命名規則', link: '/rules/naming' },
        { text: 'TypeScript', link: '/rules/typescript' },
        { text: 'React', link: '/rules/react' },
        { text: 'React Hooks', link: '/rules/react-hooks' }  // 追加
      ]
    }
  ]
}
```

### 4. ローカルで確認

変更内容をローカルで確認します。

```bash
# 開発サーバーを起動
npm run dev
```

ブラウザで http://localhost:5173 を開き、以下を確認：

- ナビゲーションにページが表示されるか
- リンクが正しく動作するか
- フォーマットが適切か
- コードブロックが正しくハイライトされるか

### 5. コミット

意味のある単位でコミットします。

```bash
git add docs/rules/react-hooks.md mkdocs.yml
git commit -m "feat: React Hooks のルールを追加"
```

コミットメッセージの推奨フォーマット：

- `feat:` - 新機能追加
- `fix:` - バグ修正や誤字修正
- `docs:` - ドキュメント構成の変更
- `style:` - フォーマットのみの変更

### 6. Pull Request を作成

GitHub にプッシュして Pull Request を作成します。

```bash
git push origin feature/add-react-hooks-rule
```

GitHub 上で Pull Request を作成し、以下を記載：
npm run dev` が正常に動作する
  - [ ] `npm run build` が成功
- **タイトル**: 何を変更したか簡潔に
- **説明**: 変更内容、理由、関連する Issue 番号
- **チェックリスト**（以下を確認）:
  - [ ] ローカルで `mkdocs serve` が正常に動作する
  - [ ] リンク切れがない
  - [ ] 誤字脱字がない
  - [ ] テンプレート構成（結論→理由→例→例外→自動化）に従っている

### 7. レビューと修正

レビュアーからフィードバックがあった場合は、修正してプッシュします。

```bash
# 修正後
git add .
git commit -m "fix: レビュー指摘事項を修正"
git push origin feature/add-react-hooks-rule
```

### 8. マージ

承認されたら、main ブランチにマージされます。マージ後、GitHub Actions が自動的にサイトをデプロイします。

## ✅ レビュー基準

Pull Request は以下の基準でレビューされます：

### 内容

- [ ] ルールが明確で実践的か
- [ ] 理由が説得力を持っているか
- [ ] 例が具体的でわかりやすいか
- [ ] 例外ケースが適切に説明されているか
- [ ] 自動化の方法が実現可能か

### 文章

- [ ] 誤字脱字がないか
- [ ] 一貫したトーンで書かれているか
- [ ] 専門用語に説明があるか

### 技術
VitePres
- [ ] MkDocs のビルドが成功するか
- [ ] リンクが正しく機能するか
- [ ] コードブロックのシンタックスが正しいか

## 🤔 よくある質問

### Q: どのくらいの粒度でルールを作るべきですか？

A: 1つのルールは1つの明確な原則に焦点を当てるべきです。複数の関連するルールがある場合は、別々のページに分けることを検討してください。

### Q: 特定のプロジェクトでしか使わないルールも追加できますか？

A: はい、追加できます。このガイドラインは主に社内向けなので、社内プロジェクト固有のルールも含めて問題ありません。ただし、どのプロジェクトで適用されるルールかを明記することを推奨します。

### Q: 既存のルールに異議がある場合は？

A: Issue を作成して議論を開始してください。建設的なフィードバックは歓迎します。

## 📞 サポート

質問や不明点がある場合は、以下の方法でお問い合わせください：

- **GitHub Issues**: 一般的な質問や提案
- **Pull Request のコメント**: 特定の変更に関する質問

---

あなたの貢献を心よりお待ちしています！🎉
